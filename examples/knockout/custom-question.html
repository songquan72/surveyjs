<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>survey.js : Create custom question. For example 'emoji' question</title>
        <link rel="stylesheet" href="https://getbootstrap.com/dist/css/bootstrap.css"/>
        <link href="/css/style.css" type="text/css" rel="stylesheet" /> 
        <link href="/css/main.css" type="text/css" rel="stylesheet" />
        <link href="/css/custom-checkbox.css" type="text/css" rel="stylesheet" />
        
        
        
        
        <script src="/js/knockout.js"></script>
        <script src="https://surveyjs.azureedge.net/0.12.3/survey.ko.min.js"></script>
        
        <link href="/css/prism.css" type="text/css" rel="stylesheet" />
        <script src="/js/prism.js"></script>
        
    </head>
    <body class="white-bg">
        
<nav class="navbar navbar-default survey-gray survey-navbar">
    <div class="container-fluid">
        <div class="navbar-header">
            <a class="btn btn-lg btn-primary main-btn" href="/index.html"></a>
            <a class="version-link" role="button" href="https://github.com/surveyjs/surveyjs/releases" target="_blank">
                the latest version 0.12.3
            </a>
        </div>
        <ul class="nav navbar-nav">
            <li></li>
        </ul>
        <ul class="nav navbar-nav navbar-right">
            <li class=''><a rel="home" href="/index.html" >Home</a></li>
            <li class='active'><a rel="examples" href="/examples/jquery/">Examples</a></li>
            <li ><a rel="builder" href="/builder/">Survey Editor</a></li>
            <li><a href="http://surveyjs.io" target="_blank">SurveyJS Project</a></li>
            <li><a href="http://github.com/surveyjs/surveyjs" target="_blank">Source</a></li>
            <li><a href="https://github.com/surveyjs/surveyjs/issues" target="_blank">Issues</a></li>
        </ul>
    </div>
</nav>
        <div class="maincontent">
        <div class="examples-wrapper">
    

    
<nav class="navbar-default navbar-static-side examplesidebar" role="navigation">
    <div class="sidebar-collapse">
        <ul class="nav metismenu" id="side-menu">
        
            <li >
                <a href="#" onclick="doExpand('types')">
                    <span>Question Types</span>
                    <span id="imgtypes" class="glyphicon pull-right glyphicon-chevron-down" aria-hidden="true"></span>
                </a>
                <ul id="examplestypes" class="nav nav-second-level"style="display:none">
                
                    <li >
                        <a href="questiontype-text.html">
                            <span>Text</span>
                            <div><small>Single questioin entry for text, e-mail, date and so on</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="questiontype-radiogroup.html">
                            <span>Radio group</span>
                            <div><small>One choice question</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="questiontype-dropdown.html">
                            <span>Dropdown</span>
                            <div><small>One choice question</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="questiontype-dropdownrestfull.html">
                            <span>Dropdown + restfull</span>
                            <div><small>Get data from a restfull service</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="questiontype-checkbox.html">
                            <span>Checkboxes</span>
                            <div><small>Multiple choices question</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="questiontype-matrix.html">
                            <span>Matrix</span>
                            <div><small>Matrix question</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="questiontype-matrixdropdown.html">
                            <span>Matrixdropdown</span>
                            <div><small>Matrix question with multiple choices</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="questiontype-matrixdynamic.html">
                            <span>Matrixdynamic</span>
                            <div><small>Matrix question with dynamic rows</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="questiontype-multipletext.html">
                            <span>Multiple Text</span>
                            <div><small>Multiple text question</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="questiontype-rating.html">
                            <span>Rating</span>
                            <div><small>Rating question</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="questiontype-comment.html">
                            <span>Comment</span>
                            <div><small>Comment question</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="questiontype-html.html">
                            <span>Html</span>
                            <div><small>Html Elements</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="questiontype-file.html">
                            <span>File</span>
                            <div><small>File Uploading</small></div>
                        </a>
                    </li>
                    
                </ul>
            </li>
        
            <li >
                <a href="#" onclick="doExpand('custom-widgets')">
                    <span>Custom Widgets</span>
                    <span id="imgcustom-widgets" class="glyphicon pull-right glyphicon-chevron-down" aria-hidden="true"></span>
                </a>
                <ul id="examplescustom-widgets" class="nav nav-second-level"style="display:none">
                
                    <li >
                        <a href="custom-widget-select2-tagbox.html">
                            <span>TagBox (Select2)</span>
                            <div><small>Select2 TagBox</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="custom-widget-datepicker.html">
                            <span>Datepicker</span>
                            <div><small>JqueryUI DatePicker</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="custom-widget-custom-rating.html">
                            <span>CustomRating</span>
                            <div><small>Pure JS Rating</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="custom-widget-select2.html">
                            <span>Select2</span>
                            <div><small>Select2</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="custom-widget-icheck.html">
                            <span>iCheck</span>
                            <div><small>iCheck</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="custom-widget-barrating.html">
                            <span>Barrating</span>
                            <div><small>Antennaio Barrating</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="custom-widget-tagbox.html">
                            <span>TagBox</span>
                            <div><small>Devextreme TagBox</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="custom-widget-matrix-icheck.html">
                            <span>ICheckMatrix</span>
                            <div><small>Matrix with iCheck</small></div>
                        </a>
                    </li>
                    
                </ul>
            </li>
        
            <li class="active">
                <a href="#" onclick="doExpand('survey')">
                    <span>Survey</span>
                    <span id="imgsurvey" class="glyphicon pull-right glyphicon-chevron-up" aria-hidden="true"></span>
                </a>
                <ul id="examplessurvey" class="nav nav-second-level">
                
                    <li >
                        <a href="survey-cookie.html">
                            <span>Use cookie</span>
                            <div><small>Run survey one time in a browser</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="survey-localization.html">
                            <span>Localization</span>
                            <div><small>Localize your survey</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="survey-startwithnewline.html">
                            <span>Questions in one line</span>
                            <div><small>Show several questions in one line</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="survey-customcss.html">
                            <span>Custom css</span>
                            <div><small>Use you own css classes</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="survey-options.html">
                            <span>Survey Options</span>
                            <div><small>Use properties to set up your survey</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="survey-data.html">
                            <span>Work with data</span>
                            <div><small>Get/set data from/to survey</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="survey-displaymode.html">
                            <span>Read-only/display mode</span>
                            <div><small>View answers of other people</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="survey-customnavigation.html">
                            <span>Custom Navigation</span>
                            <div><small>Use your own navigation</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="survey-processtext.html">
                            <span>Pre-process title/html</span>
                            <div><small>Use a simple syntax to customize the text</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="survey-customtemplate.html">
                            <span>Change Rendering</span>
                            <div><small>Change question templates</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="survey-autonextpage.html">
                            <span>Go next page automatically</span>
                            <div><small>Go to the next page on answering questions automitically</small></div>
                        </a>
                    </li>
                
                    <li class="active">
                        <a href="custom-question.html">
                            <span>Custom question</span>
                            <div><small>Create you own question</small></div>
                        </a>
                    </li>
                    
                </ul>
            </li>
        
            <li >
                <a href="#" onclick="doExpand('triggers')">
                    <span>Conditions and Triggers</span>
                    <span id="imgtriggers" class="glyphicon pull-right glyphicon-chevron-down" aria-hidden="true"></span>
                </a>
                <ul id="examplestriggers" class="nav nav-second-level"style="display:none">
                
                    <li >
                        <a href="condition-kids.html">
                            <span>VisibleIf</span>
                            <div><small>Create complex conditions to control question visibility</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="trigger-visible.html">
                            <span>Visible Trigger</span>
                            <div><small>Show/Hide question(s) on survey running</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="trigger-complete.html">
                            <span>Complete Trigger</span>
                            <div><small>Complete the survey from any page</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="trigger-setvalue.html">
                            <span>SetValue Trigger</span>
                            <div><small>On changing the question, change values of other questions</small></div>
                        </a>
                    </li>
                    
                </ul>
            </li>
        
            <li >
                <a href="#" onclick="doExpand('validation')">
                    <span>Validation</span>
                    <span id="imgvalidation" class="glyphicon pull-right glyphicon-chevron-down" aria-hidden="true"></span>
                </a>
                <ul id="examplesvalidation" class="nav nav-second-level"style="display:none">
                
                    <li >
                        <a href="validators-standard.html">
                            <span>Standard validators</span>
                            <div><small>Example of using standard validators</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="validators-server.html">
                            <span>Validate on Server</span>
                            <div><small>Validate answers of the current page on server</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="validators-custom.html">
                            <span>Create custom validators</span>
                            <div><small>Example of creating and using a custom validator</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="validators-event.html">
                            <span>Validate on event</span>
                            <div><small>Example of using OnValidatateQuestion event</small></div>
                        </a>
                    </li>
                    
                </ul>
            </li>
        
            <li >
                <a href="#" onclick="doExpand('dxservice')">
                    <span>Using dxService</span>
                    <span id="imgdxservice" class="glyphicon pull-right glyphicon-chevron-down" aria-hidden="true"></span>
                </a>
                <ul id="examplesdxservice" class="nav nav-second-level"style="display:none">
                
                    <li >
                        <a href="service-load.html">
                            <span>Load Survey</span>
                            <div><small>Load survey json from the service</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="service-send.html">
                            <span>Save Survey Result</span>
                            <div><small>Save survey result to the service</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="service-result.html">
                            <span>Get Survey Result</span>
                            <div><small>Get Survey Result after sending results</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="service-oneperuser.html">
                            <span>Run survey one time</span>
                            <div><small>Use your user id to run the survey one time and optionally store result on every page</small></div>
                        </a>
                    </li>
                    
                </ul>
            </li>
        
            <li >
                <a href="#" onclick="doExpand('real')">
                    <span>Real Examples</span>
                    <span id="imgreal" class="glyphicon pull-right glyphicon-chevron-down" aria-hidden="true"></span>
                </a>
                <ul id="examplesreal" class="nav nav-second-level"style="display:none">
                
                    <li >
                        <a href="real-productfeedback.html">
                            <span>Product Feedback</span>
                            <div><small>Three pages survey</small></div>
                        </a>
                    </li>
                
                    <li >
                        <a href="real-devexpresswinformsskins.html">
                            <span>DevExpress Winforms Skins</span>
                            <div><small>The real survey ran in DevExpress</small></div>
                        </a>
                    </li>
                    
                </ul>
            </li>
        
        </ul>        
    </div>
</nav>

<script type="text/javascript">
    function doExpand(categoryId) {
        var ulCategory = document.getElementById("examples" + categoryId);
        if(!ulCategory) return;
        var display = ulCategory.style.display;
        ulCategory.style.display = display == "none" ? "" : "none";
        var imgCategory = document.getElementById("img" + categoryId);
        if(!imgCategory) return;
        imgCategory.className = display == "none" ? "glyphicon pull-right glyphicon-chevron-up" : "glyphicon pull-right glyphicon-chevron-down";
    }
</script>
    <script>
    Survey.defaultBootstrapCss.navigationButton = "btn btn-primary";
    Survey.Survey.cssType = "bootstrap";
    </script>
    <div class="examplecontent wrapper wrapper-content">
    <div class="row">
        <div class="col-md-12">
            <h3 class="contenttitle">Create custom question. For example 'emoji' question</h3>
            
            
                
                    <div id="surveyContainer" class="survey-container contentcontainer  codecontainer">
                        <div id="surveyElement">
                            
                        </div>
                    </div>
                
                <div id="survey_oncomplete" class="contentcontainer codecontainer" style="display:none">
                    <div id="survey_result"></div>
                    <input id="btnreRun" type="button" onclick="
                                    document.getElementById('surveyContainer').style.display = '';
                                    document.getElementById('survey_oncomplete').style.display = 'none';
                                    reRunSurvey();"
                           value="Re-run survey"></input>
                </div>
            

            <div class="row source-code-container">
                
                <ul class="nav nav-tabs" style="margin-top:10px;margin-bottom:10px">
                    
                    
                    <li role="presentation"><a href="/examples/angular/custom-question.html">Angular2</a></li>
                    <li role="presentation"><a href="/examples/jquery/custom-question.html">jQuery</a></li>
                    <li role="presentation" class="active"><a>Knockoutjs</a></li>
                    <li role="presentation"><a href="/examples/react/custom-question.html">Reactjs</a></li>
                    <li role="presentation"><a href="/examples/vue/custom-question.html">Vue</a></li>
                    
                </ul>
                
                
    













<script type="text/html" id="survey-question-emoji">
    <div data-bind="css: $root.css.emoji.root">
        <!-- ko foreach: question.koVisibleRateValues -->
        <label data-bind="css: question.koGetCss($data)">
            <input type="radio" style="display: none;"
                   data-bind="attr: {name: question.name, id: question.name + $index(), value: $data.value}, event: { change: question.koChange}" />
            <span data-bind="text: $data.text, style: question.koGetEmojiStyle($data)"></span>
        </label>
        <!-- /ko -->
    </div>
    <div data-bind="visible: question.hasOther">
        <div data-bind="template: { name: 'survey-comment', data: {'question': question } }"></div>
    </div>
</script>




<script type="text/javascript">

/*<![CDATA[*/


// implements class inheritance
var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};





// implements question model
var QuestionEmojiModel = (function (_super) {

    __extends(QuestionEmojiModel, _super);

    function QuestionEmojiModel(name) {
        var _this = _super.call(this, name) || this;
        _this.rates = [];
        _this.rateValuesChangedCallback = function() {};
        return _this;
    }

    Object.defineProperty(QuestionEmojiModel.prototype, "rateValues", {
        get: function () { return this.rates; },
        set: function (newValue) {
            Survey.ItemValue.setData(this.rates, newValue);
            this.fireCallback(this.rateValuesChangedCallback);
        },
        enumerable: true,
        configurable: true
    });

    Object.defineProperty(QuestionEmojiModel.prototype, "visibleRateValues", {
        get: function () {
            if (this.rateValues.length > 0)
                return this.rateValues;
            return QuestionEmojiModel.defaultRateValues;
        },
        enumerable: true,
        configurable: true
    });

    //"emoji" - identificator that will json serializer what question to create.
    QuestionEmojiModel.prototype.getType = function () {
        return "emoji";
    };

    QuestionEmojiModel.prototype.supportComment = function () { return true; };
    QuestionEmojiModel.prototype.supportOther = function () { return true; };
    QuestionEmojiModel.prototype.supportGoNextPageAutomatic = function () { return true; };

    return QuestionEmojiModel;
}(Survey.Question));

//static props
QuestionEmojiModel.defaultRateValues = [];

Survey.defaultStandardCss.emoji = {root: "sv_q_emoji", item: "sv_q_emoji_item"};
Survey.defaultBootstrapCss.emoji = {root: "btn-group", item: "btn btn-default"};

Survey.ItemValue.setData(QuestionEmojiModel.defaultRateValues, [1, 2, 3, 4, 5]);

//add class and it's properties into json meta data.
Survey.JsonObject.metaData.addClass(
    "emoji", //"emoji" - question type identificator

    //list of properties with their types (string is default) and other options.
    //For example: choices option will used by survey editor. There will be a dropdown editor with 5 options.
    [
        "hasComment:boolean",
        {
            name: "rateValues:itemvalues",
            onGetValue: function (obj) { return ItemValue.getData(obj.rateValues); },
            onSetValue: function (obj, value) { obj.rateValues = value; }
        }
    ],

    function () { return new QuestionEmojiModel(""); }, //json deserializer will call this function to create the object

    "question" //tell json serializer that we are inherited from 'question' class and we want to use all 'question' properties as well.
);

//Register the class as a quesiton. Survey editor will know it is a question and it will show it in question toolbox.
Survey.QuestionFactory.Instance.registerQuestion("emoji", (name) => { return new QuestionEmojiModel(name); });






var QuestionEmojiImplementor = (function (_super) {

    __extends(QuestionEmojiImplementor, _super);

    function QuestionEmojiImplementor(question) {
        var _this = _super.call(this, question) || this;
        _this.koVisibleRateValues = ko.observableArray(_this.getValues());
        _this.question["koVisibleRateValues"] = _this.koVisibleRateValues;
        _this.koChange = function (val) { _this.koValue(val.itemValue); };
        _this.question["koChange"] = _this.koChange;
        _this.question.rateValuesChangedCallback = function () { _this.onRateValuesChanged(); };
        _this.question["koGetCss"] = function (val) {
            var css = _this.question.itemCss;
            return _this.question["koValue"]() == val.value ? css + " active" : css;
        };
        _this.question["koGetEmojiStyle"] = function (data) {
            return _this.question["koValue"]() == data.value ?
                {backgroundColor:"#18a689", fontSize: "100px"} :
                {backgroundColor:"#fff", fontSize: "100px"};
        };
        return _this;
    }

    QuestionEmojiImplementor.prototype.onRateValuesChanged = function () {
        this.koVisibleRateValues(this.getValues());
    };
    QuestionEmojiImplementor.prototype.getValues = function () {
        return this.question.visibleRateValues;
    };

    return QuestionEmojiImplementor;
}(Survey.QuestionImplementor));

var QuestionEmoji = (function (_super) {

    __extends(QuestionEmoji, _super);

    function QuestionEmoji(name) {
        var _this = _super.call(this, name) || this;
        _this.name = name;
        new QuestionEmojiImplementor(_this);
        return _this;
    }

    QuestionEmoji.prototype.onSetData = function () {
        this.itemCss = this.data["css"].emoji.item;
        this.itemCss = this.data["css"].emoji.item;
    };

    return QuestionEmoji;
}(QuestionEmojiModel));

Survey.JsonObject.metaData.overrideClassCreatore("emoji", function () { return new QuestionEmoji(""); });
Survey.QuestionFactory.Instance.registerQuestion("emoji", (name) => { return new QuestionEmoji(name); });







var survey = new Survey.Model({
    questions: [
        {name:"name", type:"emoji", title: "Do you like dogs?", rateValues:["ðŸ˜«", "ðŸ˜”", "ðŸ˜ƒ"]}
    ]
});


survey.render("surveyElement");






/*]]>*/
</script>


<div>Source code: knockout template</div>
<pre><code class="language-javascript">
&lt;script type=&quot;text/html&quot; id=&quot;survey-question-emoji&quot;&gt;
    &lt;div data-bind=&quot;css: $root.css.emoji.root&quot;&gt;
        &lt;!-- ko foreach: question.koVisibleRateValues --&gt;
        &lt;label data-bind=&quot;css: question.koGetCss($data)&quot;&gt;
            &lt;input type=&quot;radio&quot; style=&quot;display: none;&quot;
                   data-bind=&quot;attr: {name: question.name, id: question.name + $index(), value: $data.value}, event: { change: question.koChange}&quot; /&gt;
            &lt;span data-bind=&quot;text: $data.text, style: question.koGetEmojiStyle($data)&quot;&gt;&lt;/span&gt;
        &lt;/label&gt;
        &lt;!-- /ko --&gt;
    &lt;/div&gt;
    &lt;div data-bind=&quot;visible: question.hasOther&quot;&gt;
        &lt;div data-bind=&quot;template: { name: &#39;survey-comment&#39;, data: {&#39;question&#39;: question } }&quot;&gt;&lt;/div&gt;
    &lt;/div&gt;
&lt;/script&gt;
</code></pre>


<div>Source code: Survey code</div>
<pre><code class="language-javascript">
// implements class inheritance
var __extends = (this &amp;&amp; this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};

</code></pre>


<div>Source code: Survey code</div>
<pre><code class="language-javascript">
// implements question model
var QuestionEmojiModel = (function (_super) {

    __extends(QuestionEmojiModel, _super);

    function QuestionEmojiModel(name) {
        var _this = _super.call(this, name) || this;
        _this.rates = [];
        _this.rateValuesChangedCallback = function() {};
        return _this;
    }

    Object.defineProperty(QuestionEmojiModel.prototype, &quot;rateValues&quot;, {
        get: function () { return this.rates; },
        set: function (newValue) {
            Survey.ItemValue.setData(this.rates, newValue);
            this.fireCallback(this.rateValuesChangedCallback);
        },
        enumerable: true,
        configurable: true
    });

    Object.defineProperty(QuestionEmojiModel.prototype, &quot;visibleRateValues&quot;, {
        get: function () {
            if (this.rateValues.length &gt; 0)
                return this.rateValues;
            return QuestionEmojiModel.defaultRateValues;
        },
        enumerable: true,
        configurable: true
    });

    //&quot;emoji&quot; - identificator that will json serializer what question to create.
    QuestionEmojiModel.prototype.getType = function () {
        return &quot;emoji&quot;;
    };

    QuestionEmojiModel.prototype.supportComment = function () { return true; };
    QuestionEmojiModel.prototype.supportOther = function () { return true; };
    QuestionEmojiModel.prototype.supportGoNextPageAutomatic = function () { return true; };

    return QuestionEmojiModel;
}(Survey.Question));

//static props
QuestionEmojiModel.defaultRateValues = [];

Survey.defaultStandardCss.emoji = {root: &quot;sv_q_emoji&quot;, item: &quot;sv_q_emoji_item&quot;};
Survey.defaultBootstrapCss.emoji = {root: &quot;btn-group&quot;, item: &quot;btn btn-default&quot;};

Survey.ItemValue.setData(QuestionEmojiModel.defaultRateValues, [1, 2, 3, 4, 5]);

//add class and it&#39;s properties into json meta data.
Survey.JsonObject.metaData.addClass(
    &quot;emoji&quot;, //&quot;emoji&quot; - question type identificator

    //list of properties with their types (string is default) and other options.
    //For example: choices option will used by survey editor. There will be a dropdown editor with 5 options.
    [
        &quot;hasComment:boolean&quot;,
        {
            name: &quot;rateValues:itemvalues&quot;,
            onGetValue: function (obj) { return ItemValue.getData(obj.rateValues); },
            onSetValue: function (obj, value) { obj.rateValues = value; }
        }
    ],

    function () { return new QuestionEmojiModel(&quot;&quot;); }, //json deserializer will call this function to create the object

    &quot;question&quot; //tell json serializer that we are inherited from &#39;question&#39; class and we want to use all &#39;question&#39; properties as well.
);

//Register the class as a quesiton. Survey editor will know it is a question and it will show it in question toolbox.
Survey.QuestionFactory.Instance.registerQuestion(&quot;emoji&quot;, (name) =&gt; { return new QuestionEmojiModel(name); });

</code></pre>


<div>Source code: Survey code</div>
<pre><code class="language-javascript">

var QuestionEmojiImplementor = (function (_super) {

    __extends(QuestionEmojiImplementor, _super);

    function QuestionEmojiImplementor(question) {
        var _this = _super.call(this, question) || this;
        _this.koVisibleRateValues = ko.observableArray(_this.getValues());
        _this.question[&quot;koVisibleRateValues&quot;] = _this.koVisibleRateValues;
        _this.koChange = function (val) { _this.koValue(val.itemValue); };
        _this.question[&quot;koChange&quot;] = _this.koChange;
        _this.question.rateValuesChangedCallback = function () { _this.onRateValuesChanged(); };
        _this.question[&quot;koGetCss&quot;] = function (val) {
            var css = _this.question.itemCss;
            return _this.question[&quot;koValue&quot;]() == val.value ? css + &quot; active&quot; : css;
        };
        _this.question[&quot;koGetEmojiStyle&quot;] = function (data) {
            return _this.question[&quot;koValue&quot;]() == data.value ?
                {backgroundColor:&quot;#18a689&quot;, fontSize: &quot;100px&quot;} :
                {backgroundColor:&quot;#fff&quot;, fontSize: &quot;100px&quot;};
        };
        return _this;
    }

    QuestionEmojiImplementor.prototype.onRateValuesChanged = function () {
        this.koVisibleRateValues(this.getValues());
    };
    QuestionEmojiImplementor.prototype.getValues = function () {
        return this.question.visibleRateValues;
    };

    return QuestionEmojiImplementor;
}(Survey.QuestionImplementor));

var QuestionEmoji = (function (_super) {

    __extends(QuestionEmoji, _super);

    function QuestionEmoji(name) {
        var _this = _super.call(this, name) || this;
        _this.name = name;
        new QuestionEmojiImplementor(_this);
        return _this;
    }

    QuestionEmoji.prototype.onSetData = function () {
        this.itemCss = this.data[&quot;css&quot;].emoji.item;
        this.itemCss = this.data[&quot;css&quot;].emoji.item;
    };

    return QuestionEmoji;
}(QuestionEmojiModel));

Survey.JsonObject.metaData.overrideClassCreatore(&quot;emoji&quot;, function () { return new QuestionEmoji(&quot;&quot;); });
Survey.QuestionFactory.Instance.registerQuestion(&quot;emoji&quot;, (name) =&gt; { return new QuestionEmoji(name); });



</code></pre>


<div>Source code: Survey setup</div>
<pre><code class="language-javascript">Survey.defaultBootstrapCss.navigationButton = "btn btn-primary";
Survey.Survey.cssType = "bootstrap";

var survey = new Survey.Model({
    questions: [
        {name:&quot;name&quot;, type:&quot;emoji&quot;, title: &quot;Do you like dogs?&quot;, rateValues:[&quot;ðŸ˜«&quot;, &quot;ðŸ˜”&quot;, &quot;ðŸ˜ƒ&quot;]}
    ]
});


survey.render(&quot;surveyElement&quot;);



</code></pre>


    

            </div>
        </div>
        
    </div>
</div>


    <script>
    function reRunSurvey() {
        
        survey.clear();
        
        survey.render('survey');
    }
    
    function renderSurvey() {
        if(typeof survey == 'undefined') return;
        survey.onComplete.add(function (s) {
            var result = "\nThe results are:\n" + JSON.stringify(survey.data);
            document.getElementById('survey_result').innerHTML = result;
            document.getElementById('survey_oncomplete').style.display = '';
            
        });
        survey.render("surveyElement");
    }

    renderSurvey();
    
    </script>
</div>

        </div>
        
        <script type="text/javascript">               
            // Analytics
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-74958675-1']);
            _gaq.push(['_trackPageview']);	
            (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();             
        </script>        
    </body>
</html>
